<?xml version="1.0" encoding="GB2312" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=GB2312" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Script-Type" content="text/javascript" />
<meta name="author" content="依玛猫" />
<meta name="copyright" content="&copy; 2001-2008 依玛猫。" />
<meta name="keywords" content="DNS 反查, HostNameLookups, Apache, Analog, 记录档" />
<link rel="alternate" type="application/xhtml+xml" href="reslog.zh-tw.html"
     hreflang="zh-tw" title="正&#39636;中文" />
<link rel="alternate" type="application/xhtml+xml" href="reslog.en.html"
     hreflang="en-us" title="English" />
<link rel="copyright" type="text/plain" href="fdl.txt" />
<link rel="author" href="mailto:imacat&#64;mail.imacat.idv.tw" />
<style type="text/css">
h2, em {
    text-transform: uppercase;
}
.accessguide {
    font-size: 0.5em;
    float: left;
    width: 0.5em;
}
q {
    quotes: "“" "”" "‘" "’";
}
q:lang(en) {
    quotes: "\201C" "\201D" "\2018" "\2019";
}
</style>
<title>reslog 3.16 版</title>
</head>
<body>

<div class="langs" title="语言切换区">
    <span xml:lang="zh-tw"><a href="reslog.zh-tw.html"
        title="切&#25563;到本&#38913;的正&#39636;中文版。"
        hreflang="zh-tw">正&#39636;中文</a></span> |
    <span>简体中文</span> |
    <span xml:lang="en-us"><a href="reslog.en.html"
        title="Switch to the English version of this page."
        hreflang="en-us">English</a></span>
</div>
<hr />


<div id="body" class="body" title="网页内文区">
<div class="accessguide"><a accesskey="C"
    href="#body" title="网页内文区">:::</a></div>

<h1><samp xml:lang="en">reslog</samp> 3.16 版</h1>


<h2>最新消息</h2>

<dl>

<dt>2007-12-04</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.16 。新版修正 <a href="http://search.cpan.org/dist/Compress-Bzip2/" hreflang="en" xml:lang="en"><samp>Compress::Bzip2</samp></a> 制作的空档所产生的问题。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.16.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.16 版</a>。</p>
</dd>


<dt>2007-12-03</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.16 。修正 <samp xml:lang="en">Makefile.PL</samp> 安装所需最低 <acronym title="Practical Extraction and Reporting Language" xml:lang="en">Perl</acronym> 版本的错误。若你之前安装了 <samp xml:lang="en">reslog</samp> 3.13 版或之后的版本，不需要升级新版。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.16.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.16 版</a>。</p>
</dd>


<dt>2007-12-03</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.14 。新版有好几个说明文件、测试程式修正。若你之前安装了 <samp xml:lang="en">reslog</samp> 3.13 版，不需要升级新版。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.14.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.14 版</a>。</p>
</dd>


<dt>2007-12-03</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.13 。新版有很多程式码改进、错误修正、测试程式改进、说明文件修正。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.13.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.13 版</a>。</p>
</dd>


<dt>2007-07-23</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.12 。修正无 <abbr title="internet protocol" xml:lang="en">IP</abbr> 反解时的错误。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.12.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.12 版</a>。</p>
</dd>


<dt>2007-07-23</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.11 。修正在无线程 <acronym title="Practical Extraction and Reporting Language" xml:lang="en">Perl</acronym> 上执行的问题，以 <samp xml:lang="en">file</samp> 程式检查标准输入档案类型的问题，修正安装档案位置以符合 <acronym title="Practical Extraction and Reporting Language" xml:lang="en">Perl</acronym> 标准安装设定，并加上支援用 <a href="http://search.cpan.org/dist/Module-Build/" hreflang="en" xml:lang="en"><samp>Module::Build</samp></a> 安装。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.11.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.11 版</a>。</p>
</dd>


<dt>2007-07-22</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.10 。说明文件修正。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.10.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.10 版</a>。</p>
</dd>


<dt>2007-07-21</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.09 。版权更新为 <a href="http://www.gnu.org/licenses/gpl-3.0.html" hreflang="en" xml:lang="en"><abbr title="GNU General Public License version 3" xml:lang="en">GPLv3</abbr></a> ，及多项问题修正。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.09.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.09 版</a>。</p>
</dd>


<dt>2005-05-22</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.08 。说明文件修正。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.08.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.08 版</a>。</p>
</dd>


<dt>2005-05-22</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.07 。重整程式码，以便在更多平台上执行。目前可在下列平台上执行： <a href="http://www.linux.org/" hreflang="en" xml:lang="en">Linux</a> 、 <span xml:lang="en"><abbr title="Microsoft">MS</abbr>-Windows</span> 、 <a href="http://www.cygwin.com/" hreflang="en" xml:lang="en">Cygwin</a> 、 <a href="http://www.sun.com/software/solaris/" hreflang="en" xml:lang="en">Solaris</a> 、 <a href="http://www.freebsd.org/" hreflang="en" xml:lang="en">FreeBSD</a> 与 <a href="http://developer.apple.com/opensource/" hreflang="en" xml:lang="en">MacOSX Darwin</a> 。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.07.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.07 版</a>。</p>
</dd>


<dt>2005-05-16</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.06 。重整测试程式，以使测试结果更正确、有效。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.06.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.06 版</a>。</p>
</dd>


<dt>2005-05-08</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.05 。修正标准输入不可用时会产生错误的问题。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.05.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.05 版</a>。</p>
</dd>


<dt>2005-05-08</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.04 。修正载入 <a href="http://search.cpan.org/dist/File-MMagic/" hreflang="en" xml:lang="en"><samp>File::MMagic</samp></a> 时的别字。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.04.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.04 版</a>。</p>
</dd>


<dt>2005-05-08</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.03 。预设安装目录改回到 <samp xml:lang="en">/sbin</samp> ，加上 <q xml:lang="en"><samp>make upgrade</samp></q> 以删除旧版档案，并解决了之前档案锁定方法不一的问题。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.03.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.03 版</a>。</p>
</dd>


<dt>2005-05-02</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.02 。反查程式现在与主程式互相独立，在 <span xml:lang="en"><abbr title="Microsoft">MS</abbr>-Windows</span> 与 <a href="http://www.cygwin.com/" hreflang="en" xml:lang="en">Cygwin</a> 上测试执行无误，并解决了好几个小问题。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.02.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.02 版</a>。</p>
</dd>


<dt>2005-04-26</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.01 。修正了一个严重的错误，错使 <samp xml:lang="en">--suffix</samp> 与 <samp xml:lang="en">--trim-suffix</samp> 处理了错误的档尾。若你下载安装了 3.01 版，请立即升级更新。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.01.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.01 版</a>。</p>
</dd>


<dt>2005-04-26</dt>

<dd>
<p><samp xml:lang="en">reslog</samp> 最新版本 3.00 。我用物件导向模式，从头重写。新加上 <span xml:lang="en">ithreads</span> 多线程功能，大幅加快执行速度。支援 <samp xml:lang="en">bzip2</samp> 压缩档。支援用 <samp xml:lang="en">gzip</samp> 或 <samp xml:lang="en">bzip2</samp> 程式解压缩，不需安装 <a href="http://search.cpan.org/dist/Compress-Zlib/" hreflang="en" xml:lang="en"><samp>Compress::Zlib</samp></a> 和 <a href="http://search.cpan.org/dist/Compress-Bzip2/" hreflang="en" xml:lang="en"><samp>Compress::Bzip2</samp></a> 模组（不建议使用）。可先裁掉某些档尾，再加上我们的档尾，以便和其他记录档处理程式一起作业。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog-3.00.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog</samp> 3.00 版</a>。</p>
</dd>


<dt>2002-09-18</dt>

<dd>
<p><samp xml:lang="en">reslog.pl</samp> 最新版本 2.1.0dev2 。本版修正了几个说明文件的错误，并把 <a href="http://sourceforge.net/" hreflang="en" xml:lang="en">SourceForge</a> 加进 <samp xml:lang="en">reslog.pl</samp> 的下载网址中。你可以把它当做<q><span xml:lang="en">SourceForge</span> 纪念版</q>。原则上，不需要急著升级。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog.pl-2.1.0dev2.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog.pl</samp> 2.1.0dev2 版</a>。</p>
</dd>


<dt>2002-09-17</dt>

<dd>
<p>好消息！ <samp xml:lang="en">reslog.pl</samp> 已开始架设於 <a href="http://sourceforge.net/projects/reslog/" hreflang="en" xml:lang="en">SourceForge</a> 罗！（虽然我几乎还完全搞不清楚要怎么架&hellip;摸索中&hellip; ^^; ）</p>
</dd>


<dt>2002-08-31</dt>

<dd>
<p><samp xml:lang="en">reslog.pl</samp> 最新版本 2.1.0dev1 。本版修正了无法在 <acronym title="Practical Extraction and Reporting Language" xml:lang="en">Perl</acronym> 5.8.0 执行的错误。我暂时还把她当成是 <q xml:lang="en"><abbr title="development">dev</abbr></q> 研发版，因为我想在 2.1.0 正式版的时候，支援 <a href="http://search.cpan.org/dist/Compress-Bzip2/" hreflang="en" xml:lang="en"><samp>Compress::Bzip2</samp></a> 与 <a href="http://search.cpan.org/dist/ExtUtils-MakeMaker/" hreflang="en" xml:lang="en"><samp>ExtUtils::MakeMaker</samp></a> 。不过她其实很稳定。<a href="ftp://ftp.imacat.idv.tw/pub/reslog/reslog.pl-2.1.0dev1.tar.gz" type="application/x-gzip">下载 <samp xml:lang="en">reslog.pl</samp> 2.1.0dev2 版</a>。</p>
</dd>

</dl>


<h2>说明</h2>

<p><dfn xml:lang="en"><samp>reslog</samp></dfn> 是记录档的反查程式，用来反查 <a href="http://httpd.apache.org/" hreflang="en" xml:lang="en">Apache</a> 记录档里 <abbr title="internet protocol" xml:lang="en">IP</abbr> 的主机名称。查过后，可以套用像 <a href="http://analog.cx/" hreflang="en" xml:lang="en">Analog</a> 之类的记录档统计程式。你可以把它当做 <span xml:lang="en">Apache</span> <samp xml:lang="en">HostNameLookups</samp> 指令的替代品，每天一次反查当天所有的 <abbr title="internet protocol" xml:lang="en">IP</abbr> 。</p>


<h2>注意事项</h2>

<ul>

<li><p>反查网域名称<em>很耗时间</em>。时间主要耗在查询上：防火墙过滤网路封包，网域名称伺服器设错、没有开机、位在慢速网路上、等级太低反应慢、网路塞车&hellip;等。这些外部因素，都不是程式本身能控制的。</p></li>

<li><p>若程式半途中断，如按了 <span xml:lang="en">Ctrl-Break</span> ，可能会残余一个暂时工作档。下次执行时碰到残存的暂时工作档，程式会拒绝执行跳出。请先处理残存的暂时工作档。你可以把暂时工作档当成原来的记录档来用，重新反查。</p></li>

<li><p>本程式需要很多暂存资料的空间。硬碟和记忆体比起来，价格便宜，用起来也比较省，所以我用硬碟暂存。这个程式需要原记录档解压后两倍以上的硬碟空间，才能执行（用记忆体暂存的话要用十倍）。请检查硬碟空间够不够。</p></li>

<li><p><samp xml:lang="en">reslog</samp> 尚未支援 <abbr title="internet protocol version 6" xml:lang="en">IPv6</abbr> 。</p></li>

<li><p>我建议安装 <a href="http://search.cpan.org/dist/File-MMagic/" hreflang="en" xml:lang="en"><samp>File::MMagic</samp></a> ，尽量不要用 <samp xml:lang="en">file</samp> 程式。 <a href="http://search.cpan.org/dist/File-MMagic/" hreflang="en" xml:lang="en"><samp>File::MMagic</samp></a> 内建的档案类型表好像比 <samp xml:lang="en">file</samp> 程式准确。若不是 <samp xml:lang="en">gzip</samp> 或 <samp xml:lang="en">bzip2</samp> 压缩档， <samp xml:lang="en">reslog</samp> 会把视为当成纯文字档。若压缩档被误判为图档， <samp xml:lang="en">reslog</samp> 会当成纯文字档，直接读记录，并以错误结束。就算错误也不会弄乱原记录档，不过多少有点麻烦。</p></li>

</ul>


<h2>系统需求</h2>

<ol>
<li><p><acronym title="Practical Extraction and Reporting Language" xml:lang="en">Perl</acronym> 5.8.0 以上。 <samp xml:lang="en">reslog</samp> 用三个参数的 <samp xml:lang="en">open()</samp> 来复制档案操作，我还不知道怎么改写到更早的版本上执行。若你可以改写到更早的版本上执行，请告诉我。你可以输入 <q xml:lang="en"><samp>perl -v</samp></q> 查询你目前的 <acronym title="Practical Extraction and Reporting Language" xml:lang="en">Perl</acronym> 版本。如果你没有 <acronym title="Practical Extraction and Reporting Language" xml:lang="en">Perl</acronym> 或需要升级，可以到 <a href="http://www.perl.com/" hreflang="en"><acronym title="Practical Extraction and Reporting Language" xml:lang="en">Perl</acronym> 网站</a>下载安装最新版 <acronym title="Practical Extraction and Reporting Language" xml:lang="en">Perl</acronym> 。若你是用 <span xml:lang="en"><abbr title="Microsoft">MS</abbr>-Windows</span> ，可以到 <a href="http://www.activestate.com/" hreflang="en"><span xml:lang="en">ActiveState</span> 公司</a>下载 <span xml:lang="en">ActivePerl</span> 安装。</p></li>

<li><p>需搭配的 <acronym title="Practical Extraction and Reporting Language" xml:lang="en">Perl</acronym> 模组：无。</p></li>

<li><p>选配的 <acronym title="Practical Extraction and Reporting Language" xml:lang="en">Perl</acronym> 模组：</p>
    
    <dl>
    <dt><a href="http://search.cpan.org/dist/File-MMagic/" hreflang="en" xml:lang="en"><samp>File::MMagic</samp></a></dt>
    
    <dd>
    <p>这是检查档案类型用的。若没有安装， <samp xml:lang="en">reslog</samp> 会找 <samp xml:lang="en">file</samp> 程式代替。若还找不到， <samp xml:lang="en">reslog</samp> 会改用档尾（副档名）判断档案类型。这时若从标准输入读档， <samp xml:lang="en">reslog</samp> 就无法判断了。你可以<a href="http://search.cpan.org/dist/File-MMagic/" hreflang="en">由 <acronym title="Comprehensive Perl Archive Network" xml:lang="en">CPAN</acronym> 模组库下载安装 <samp xml:lang="en">File::MMagic</samp> </a>，或用 <span xml:lang="en"><samp>CPAN</samp> Shell</span> 执行 <q xml:lang="en"><samp>cpan File::MMagic</samp></q> 安装，或用 <span xml:lang="en"><samp>CPANPLUS</samp> Shell</span> 执行 <q xml:lang="en"><samp>cpanp i File::MMagic</samp></q> 安装。若你是 <span xml:lang="en">Debian/Ubandu Linux</span> 使用者，可以执行 <q xml:lang="en"><samp>apt-get install libfile-mmagic-perl</samp></q> 安装。若你是 <span xml:lang="en">Red Hat/Fedora/CentOS Linux</span> 使用者，可以执行 <q xml:lang="en"><samp>yum install perl-File-MMagic</samp></q> 安装。若你是 <span xml:lang="en">FreeBSD</span> 使用者，可以执行 <q xml:lang="en"><samp>ports install p5-File-MMagic</samp></q> 安装。若你是 <span xml:lang="en">ActivePerl</span> 使用者，可以执行 <q xml:lang="en"><samp>ppm install File::MMagic</samp></q> 安装。若你要在 <span xml:lang="en"><abbr title="Microsoft">MS</abbr>-Windows</span> 下使用 <samp xml:lang="en">file.exe</samp> 程式，可以由 <a href="http://gnuwin32.sourceforge.net/" hreflang="en-us"><span xml:lang="en">GnuWin32</span> 网站</a>下载。请确认下载后，存档在系统的路径下，档名为 <samp xml:lang="en">file.exe</samp> 。</p>
    
    <p>建议用 <a href="http://search.cpan.org/dist/File-MMagic/" hreflang="en" xml:lang="en"><samp>File::MMagic</samp></a> 。 <samp xml:lang="en">file</samp> 程式偶尔会误判。</p>
    </dd>
    
    <dt><a href="http://search.cpan.org/dist/Compress-Zlib/" hreflang="en" xml:lang="en"><samp>Compress::Zlib</samp></a></dt>
    
    <dd>
    <p>这是处理 <samp xml:lang="en">gzip</samp> 压缩档用的，只有在处理 <samp xml:lang="en">gzip</samp> 压缩档才会用到。若要用时没有安装， <samp xml:lang="en">reslog</samp> 会试著改用 <samp xml:lang="en">gzip</samp> 程式代替。若还找不到， <samp xml:lang="en">reslog</samp> 就无法执行。你可以<a href="http://search.cpan.org/dist/Compress-Zlib/" hreflang="en">由 <acronym title="Comprehensive Perl Archive Network" xml:lang="en">CPAN</acronym> 模组库下载安装 <samp xml:lang="en">Compress::Zlib</samp> </a>，或用 <span xml:lang="en"><samp>CPAN</samp> Shell</span> 执行 <q xml:lang="en"><samp>cpan Compress::Zlib</samp></q> 安装，或用 <span xml:lang="en"><samp>CPANPLUS</samp> Shell</span> 执行 <q xml:lang="en"><samp>cpanp i Compress::Zlib</samp></q> 安装。若你是 <span xml:lang="en">Debian/Ubandu Linux</span> 使用者，可以执行 <q xml:lang="en"><samp>apt-get install libcompress-zlib-perl</samp></q> 安装。若你是 <span xml:lang="en">Red Hat/Fedora/CentOS Linux</span> 使用者，可以执行 <q xml:lang="en"><samp>yum install perl-Compress-Zlib</samp></q> 安装。若你是 <span xml:lang="en">FreeBSD</span> 使用者，可以执行 <q xml:lang="en"><samp>ports install p5-Compress-Zlib</samp></q> 安装。若你是 <span xml:lang="en">ActivePerl</span> 使用者，可以执行 <q xml:lang="en"><samp>ppm install Compress::Zlib</samp></q> 安装。若你要在 <span xml:lang="en"><abbr title="Microsoft">MS</abbr>-Windows</span> 下使用 <samp xml:lang="en">gzip.exe</samp> 程式，可以由 <a href="http://www.gzip.org/" hreflang="en"><samp xml:lang="en">gzip</samp> 网站</a>下载。请确认下载后，存档在系统的路径下，档名为 <samp xml:lang="en">gzip.exe</samp> 。</p>
    </dd>
    
    <dt><a href="http://search.cpan.org/dist/Compress-Bzip2/" hreflang="en" xml:lang="en"><samp>Compress::Bzip2</samp></a> 第二版以上</dt>
    
    <dd>
    <p>这是处理 <samp xml:lang="en">bzip2</samp> 压缩档用的，只有在处理 <samp xml:lang="en">bzip2</samp> 压缩档才会用到。若要用时没有安装， <samp xml:lang="en">reslog</samp> 会试著改用 <samp xml:lang="en">bzip2</samp> 程式代替。若还找不到， <samp xml:lang="en">reslog</samp> 就无法执行。你可以<a href="http://search.cpan.org/dist/Compress-Bzip2/" hreflang="en">由 <acronym title="Comprehensive Perl Archive Network" xml:lang="en">CPAN</acronym> 模组库下载安装 <samp xml:lang="en">Compress::Bzip2</samp> </a>，或用 <span xml:lang="en"><samp>CPAN</samp> Shell</span> 执行 <q xml:lang="en"><samp>cpan Compress::Bzip2</samp></q> 安装，或用 <span xml:lang="en"><samp>CPANPLUS</samp> Shell</span> 执行 <q xml:lang="en"><samp>cpanp i Compress::Bzip2</samp></q> 安装。若你是 <span xml:lang="en">Debian/Ubandu Linux</span> 使用者，可以执行 <q xml:lang="en"><samp>apt-get install libcompress-bzip2-perl</samp></q> 安装。若你是 <span xml:lang="en">Red Hat/Fedora/CentOS Linux</span> 使用者，可以执行 <q xml:lang="en"><samp>yum install perl-Compress-Bzip2</samp></q> 安装。若你是 <span xml:lang="en">FreeBSD</span> 使用者，可以执行 <q xml:lang="en"><samp>ports install p5-Compress-Bzip2</samp></q> 安装。若你是 <span xml:lang="en">ActivePerl</span> 使用者，可以执行 <q xml:lang="en"><samp>ppm install Compress::Bzip2</samp></q> 安装。若你要在 <span xml:lang="en"><abbr title="Microsoft">MS</abbr>-Windows</span> 下使用 <samp xml:lang="en">bzip2.exe</samp> 程式，可以由 <a href="http://www.bzip.org/" hreflang="en"><samp xml:lang="en">bzip2</samp> 网站</a>下载。请确认下载后，存档在系统的路径下，档名为 <samp xml:lang="en">bzip2.exe</samp> 。</p>
    </dd>
    
    <dt><a href="http://search.cpan.org/dist/TermReadKey/" hreflang="en" xml:lang="en"><samp>Term::ReadKey</samp></a></dt>
    
    <dd>
    <p>这是显示进度列用的，若没有安装，就不会显示进度列。此外不会有任何问题。进度列可以让你对 <samp xml:lang="en">reslog</samp> 的工作进度一目了然。你可以<a href="http://search.cpan.org/dist/TermReadKey/" hreflang="en">由 <acronym title="Comprehensive Perl Archive Network" xml:lang="en">CPAN</acronym> 模组库下载安装 <samp xml:lang="en">Term::ReadKey</samp> </a>，或用 <span xml:lang="en"><samp>CPAN</samp> Shell</span> 执行 <q xml:lang="en"><samp>cpan Term::ReadKey</samp></q> 安装，或用 <span xml:lang="en"><samp>CPANPLUS</samp> Shell</span> 执行 <q xml:lang="en"><samp>cpanp i Term::ReadKey</samp></q> 安装。若你是 <span xml:lang="en">Debian/Ubandu Linux</span> 使用者，可以执行 <q xml:lang="en"><samp>apt-get install libterm-readkey-perl</samp></q> 安装。若你是 <span xml:lang="en">Red Hat/Fedora/CentOS Linux</span> 使用者，可以执行 <q xml:lang="en"><samp>yum install perl-TermReadKey</samp></q> 安装。若你是 <span xml:lang="en">FreeBSD</span> 使用者，可以执行 <q xml:lang="en"><samp>ports install p5-Term-ReadKey</samp></q> 安装。若你是 <span xml:lang="en">ActivePerl</span> 使用者，可以执行 <q xml:lang="en"><samp>ppm install Term::ReadKey</samp></q> 安装。</p>
    </dd>
    </dl>
</li>
</ol>


<h2>下载</h2>

<p><samp xml:lang="en">reslog</samp> 的官方网站在：</p>

<ul>
<li><p><a href="http://reslog.sourceforge.net/"><span xml:lang="en">SourceForge</span> 上的 <samp xml:lang="en">reslog</samp> 网站。</a></p></li>

<li><p><a href="https://sourceforge.net/projects/reslog/" hreflang="en"><samp xml:lang="en">reslog</samp> <span xml:lang="en">SourceForge</span> 专案页。</a></p></li>

<li><p><a href="http://search.cpan.org/~imacat/reslog/" hreflang="en"><samp xml:lang="en">reslog</samp> <acronym title="Comprehensive Perl Archive Network" xml:lang="en">CPAN</acronym> 专案页。</a></p></li>

<li><p><a href="http://www.imacat.idv.tw/tech/reslog.html">旅舍依玛 <samp xml:lang="en">reslog</samp> 网页</a></p></li>
</ul>

<p>最新版 <samp xml:lang="en">reslog</samp> 可由下列位址下载：</p>

<ul>
<li><p><a href="https://sourceforge.net/project/showfiles.php?group_id=62500" hreflang="en"><samp xml:lang="en">reslog</samp> <span xml:lang="en">SourceForge</span> 下载页。</a></p></li>

<li><p><a href="http://search.cpan.org/~imacat/reslog/" hreflang="en"><samp xml:lang="en">reslog</samp> <acronym title="Comprehensive Perl Archive Network" xml:lang="en">CPAN</acronym> 专案页。</a></p></li>

<li><p><a href="ftp://ftp.imacat.idv.tw/pub/reslog/">旅舍依玛 <abbr title="File Transfer Protocol" xml:lang="en">FTP</abbr> 站。</a></p></li>
</ul>

<p>依玛猫的 <abbr title="Pretty Good Privacy" xml:lang="en">PGP</abbr> 公钥在：</p>

<ul>
<li><p><a href="http://reslog.sourceforge.net/pgpkey.asc"><samp xml:lang="en">reslog</samp> <span xml:lang="en">SourceForge</span> 网站上的依玛猫 <abbr title="Pretty Good Privacy" xml:lang="en">PGP</abbr> 公钥。</a></p></li>

<li><p><a href="http://www.imacat.idv.tw/me/pgpkey.asc">旅舍依玛上的依玛猫 <abbr title="Pretty Good Privacy" xml:lang="en">PGP</abbr> 公钥。</a></p></li>
</ul>


<h2>安装</h2>

<p>若你是由 <samp xml:lang="en">reslog</samp> 3.10 以前的版本升级，或是由 <samp xml:lang="en">reslog.pl</samp> 3.02 以前的版本升级，请参阅 <samp xml:lang="en">UPGRADE.zh-cn</samp> 档的升级说明。</p>

<h3>以 <a href="http://search.cpan.org/dist/ExtUtils-MakeMaker/" hreflang="en" xml:lang="en"><samp>ExtUtils::MakeMaker</samp></a> 安装</h3>

<p><samp xml:lang="en">reslog</samp> 用 <acronym title="Practical Extraction and Reporting Language" xml:lang="en">Perl</acronym> 标准的 <a href="http://search.cpan.org/dist/ExtUtils-MakeMaker/" hreflang="en" xml:lang="en"><samp>ExtUtils::MakeMaker</samp></a> 安装，程序如下：</p>

<blockquote xml:lang="en"><pre>
% perl Makefile.PL
% make
% make test
% make install
</pre></blockquote>

<p>在 <q xml:lang="en"><samp>make install</samp></q> 前，请先确认你有在安装目录存档的权限。通常这时候要切换为 <samp xml:lang="en">root</samp> ，才能安装存档。</p>

<p>若你是用 <span xml:lang="en"><abbr title="Microsoft">MS</abbr>-Windows</span> 下的 <span xml:lang="en">ActivePerl</span> ， <samp xml:lang="en">make</samp> 请改用 <samp xml:lang="en">nmake</samp> 。 <a href="ftp://ftp.microsoft.com/Softlib/MSLFILES/nmake15.exe" type="application/x-dosexec"><samp xml:lang="en">nmake</samp> 可由微软的 <abbr title="File Transfer Protocol" xml:lang="en">FTP</abbr> 站下载</a>。</p>

<p>若要安装到其它地方，请设定好 <samp xml:lang="en">PREFIX</samp> 。例如，一般使用者，要安装在自己的目录下时：</p>

<blockquote xml:lang="en"><pre>
% perl Makefile.PL PREFIX=/home/jessica
</pre></blockquote>

<p>要知道更多安装选项的细节，请参阅 <a href="http://search.cpan.org/dist/ExtUtils-MakeMaker/" hreflang="en" xml:lang="en"><samp>ExtUtils::MakeMaker</samp></a> 的说明（请执行 <q xml:lang="en"><samp>perldoc ExtUtils::MakeMaker</samp></q> ）。</p>


<h3>以 <a href="http://search.cpan.org/dist/Module-Build/" hreflang="en" xml:lang="en"><samp>Module::Build</samp></a> 安装</h3>

<p>若你喜欢，也可以用 <a href="http://search.cpan.org/dist/Module-Build/" hreflang="en" xml:lang="en"><samp>Module::Build</samp></a> 安装，程序如下：</p>

<blockquote xml:lang="en"><pre>
% perl Build.PL
% ./Build
% ./Build test
% ./Build install
</pre></blockquote>

<p>在 <q xml:lang="en"><samp>./Build install</samp></q> 前，请先确认你有在安装目录存档的权限。通常这时候要切换为 <samp xml:lang="en">root</samp> ，才能安装存档。</p>

<p>若要安装到其它地方，请设定好 <samp xml:lang="en">--prefix</samp> 。例如，一般使用者，要安装在自己的目录下时：</p>

<blockquote xml:lang="en"><pre>
% perl Build.PL --prefix=/home/jessica
</pre></blockquote>

<p>要知道更多安装选项的细节，请参阅 <a href="http://search.cpan.org/dist/Module-Build/" hreflang="en" xml:lang="en"><samp>Module::Build</samp></a> 的说明（请执行 <q xml:lang="en"><samp>perldoc Module::Build</samp></q> ）。</p>


<h2>命令列参数</h2>

<pre>
./reslog [参数] [记录档&hellip;]
./reslog [-h|-v]
</pre>


<dl>
<dt xml:lang="en"><var xml:lang="zh-cn">记录档</var></dt>

<dd>
<p>要反查的记录档。可同时指定好几个档案。若没有指定，会从标准输入读记录档，再写到标准输出。你也可以设定成<q><samp>-</samp></q>，来从标准输入读记录档，从标准输入读取的记录，反查后会送到标准输出。支援 <samp xml:lang="en">gzip</samp> 或 <samp xml:lang="en">bzip2</samp> 压缩档。</p>
</dd>


<dt xml:lang="en">-o, --override <var xml:lang="zh-cn">模式</var></dt>

<dd>
<p>如果有同名的反查结果档，该怎么办。目前有下列模式：</p>


<dl>
<dt xml:lang="en">o, overwrite</dt>

<dd>
<p>盖掉旧档。</p>
</dd>


<dt xml:lang="en">a, append</dt>

<dd>
<p>和旧档加在一起。</p>
</dd>


<dt xml:lang="en">f, fail</dt>

<dd>
<p>结束程式，以免不小心破坏旧档。预设是结束程式。</p>
</dd>
</dl>
</dd>


<dt xml:lang="en">-k, --keep <var xml:lang="zh-cn">模式</var></dt>

<dd>
<p>原记录档要怎么处理。目前有下列模式：</p>


<dl>
<dt xml:lang="en">a, all</dt>

<dd>
<p>保留原档。</p>
</dd>


<dt xml:lang="en">r, restart</dt>

<dd>
<p>反查后，原记录档归零。</p>
</dd>


<dt xml:lang="en">d, delete</dt>

<dd>
<p>反查后，删除原记录档。预设是删除原记录档。</p>
</dd>
</dl>
</dd>


<dt xml:lang="en">-s, --suffix <var xml:lang="zh-cn">档尾</var></dt>

<dd>
<p>反查结果档要加上的档尾。预设的档尾是 <q xml:lang="en"><samp>.resolved</samp></q> 。</p>
</dd>


<dt xml:lang="en">-t, --trim-suffix <var xml:lang="zh-cn">档尾</var></dt>

<dd>
<p>加上我们的档尾前，先去掉的原档档尾。预设是不去档尾。若你用好几个记录档处理程式处理记录档，可以用这个选项，去掉之前程式加的档尾。</p>
</dd>


<dt xml:lang="en">-n, --num-threads <var xml:lang="zh-cn">线程数</var></dt>

<dd>
<p>反查时，同时执行的线程数。预设值是 10 。若不要用多线程反查，请设为 0 。系统本身要支援多线程。若系统本身不支援多线程，本选项没有作用。</p>
</dd>


<dt xml:lang="en">-c, --stdout</dt>

<dd>
<p>把结果输出到标准输出。</p>
</dd>


<dt xml:lang="en">-d, --debug</dt>

<dd>
<p>显示详细的执行过程。</p>
</dd>


<dt xml:lang="en">-q, --quiet</dt>

<dd>
<p>没事不要吵。 :p</p>
</dd>


<dt xml:lang="en">-h, --help</dt>

<dd>
<p>显示程式说明。</p>
</dd>


<dt xml:lang="en">-v, --version</dt>

<dd>
<p>显示程式版本。</p>
</dd>
</dl>


<h2>版权声明</h2>

<p>版权所有 &copy; 2001-2007 依玛猫。依玛猫保有所有权利。</p>

<p>本程式是自由软体，您可以遵照自由软体基金会 <span xml:lang="en">(Free Software Foundation)</span> 出版的 <cite><acronym title="GNU&rsquo;s Not UNIX" xml:lang="en">GNU</acronym> 通用公共许可证</cite>条款 <span xml:lang="en">(<cite><acronym title="GNU&rsquo;s Not UNIX">GNU</acronym> General Public License</cite>)</span> 第三版来修改和重新发布这一程式，或者自由选择使用任何更新的版本。</p>

<p>发布这一程式的目的是希望它有用，但没有任何担保。甚至没有适合特定目的而隐含的担保。更详细的情况请参阅 <cite><acronym title="GNU&rsquo;s Not UNIX" xml:lang="en">GNU</acronym> 通用公共许可证</cite>。</p>

<p>您应该已经和程式一起收到一份 <cite><acronym title="GNU&rsquo;s Not UNIX" xml:lang="en">GNU</acronym> 通用公共许可证</cite>的副本。如果还没有，参阅<samp>&lt;<a href="http://www.gnu.org/licenses/" hreflang="en">http://www.gnu.org/licenses/</a>&gt;</samp>。</p>


<h2>版本纪录</h2>

<p>请阅读 <samp xml:lang="en">NEWS</samp> 档，查看程式的演变、新增的功能和修补的错误。</p>


<h2>支援协助</h2>

<p><samp xml:lang="en">reslog</samp> 网站架在 <a href="https://sourceforge.net/" hreflang="en" xml:lang="en">SourceForge</a> 、 <a href="http://www.cpan.org/" hreflang="en" xml:lang="en"><acronym title="Comprehensive Perl Archive Network">CPAN</acronym></a> 与 <a href="http://www.imacat.idv.tw/">旅舍依玛</a>。索取最新资讯，请驾临：</p>

<ul>
<li><p><a href="http://reslog.sourceforge.net/"><span xml:lang="en">SourceForge</span> 上的 <samp xml:lang="en">reslog</samp> 网站</a>。</p></li>
<li><p><a href="http://sourceforge.net/projects/reslog/" hreflang="en"><samp xml:lang="en">reslog</samp> <span xml:lang="en">SourceForge</span> 专案页</a>。</p></li>
<li><p><a href="http://search.cpan.org/dist/reslog/" hreflang="en"><samp xml:lang="en">reslog</samp> <abbr title="Comprehensive Perl Archive Network" xml:lang="en">CPAN</abbr> 专案页</a>。</p></li>
<li><p><a href="http://www.imacat.idv.tw/tech/reslog.html">旅舍依玛 <samp xml:lang="en">reslog</samp> 网页</a>。</p></li>
</ul>

<p>在 <a href="https://sourceforge.net/" hreflang="en" xml:lang="en">SourceForge</a> 上有一个 <a href="mailto:reslog-users&#64;lists.sourceforge.net"><samp xml:lang="en">reslog</samp> 的邮件通讯</a> 。使用上的问题、建议或错误回报，请提到通讯上讨论。它是 <a href="http://www.list.org/" hreflang="en" xml:lang="en">Mailman</a> 的邮件通讯。若要加入，请到 <a href="https://lists.sourceforge.net/lists/listinfo/reslog-users" hreflang="en"><samp xml:lang="en">reslog</samp> 邮件通讯的网页</a> 。你也可以写信到 <a href="mailto:reslog-users-request&#64;lists.sourceforge.net"><acronym title="electronic mail" xml:lang="en">E-mail</acronym> 指令信箱</a>，标题填上 <samp xml:lang="en">help</samp> ，索取 <acronym title="electronic mail" xml:lang="en">E-mail</acronym> 指令说明。</p>

</div>


<hr />
<div id="footer" class="footer" title="页尾区">
<address><a href="mailto:imacat&#64;mail.imacat.idv.tw">依玛猫</a>，初稿 2001-07-04 ，上次更新日期 2008-11-15</address>

<address>版权所有 &copy; 2003-2008 依玛猫，欲转载引用请先阅读<a href="fdl.txt">版权声明</a></address>
</div>

</body>
</html>
